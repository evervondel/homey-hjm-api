{
  "id": "be.vervondel.hjm-api",
  "version": "0.0.6",
  "sdk": 2,
  "compatibility": ">=2.0.0",
  "platforms": ["local"],
  "name": {
    "en": "HJM API",
    "nl": "HJM API"
  },
  "description": {
    "en": "HJM SmartBox integration via REST (on-demand refresh)",
    "nl": "Integratie met HJM SmartBox via REST (refresh op aanvraag)"
  },
  "images": {
    "large": "assets/images/large.png",
    "small": "assets/images/small.png"
  },
  "category": "climate",
  "brandColor": "#2196F3",
  "permissions": [],
  "drivers": [
    {
      "id": "thermostat",
      "name": { "en": "HJM Thermostat", "nl": "HJM Thermostaat" },
      "icon": "/drivers/thermostat/assets/icon.svg",
      "class": "thermostat",
      "settings": [
        {
          "id": "pollingEnabled",
          "type": "checkbox",
          "label": { "en": "Enable Polling", "nl": "Polling inschakelen" },
          "value": false,
          "hint": { "en": "Automatically update status.", "nl": "Update status automatisch." }
        },
        {
          "id": "pollingInterval",
          "type": "number",
          "label": { "en": "Polling Interval (seconds)", "nl": "Polling Interval (seconden)" },
          "value": 30,
          "attr": { "min": 30, "max": 3600, "step": 5 },
          "hint": { "en": "Minimum 30 seconds to prevent API rate limiting.", "nl": "Minimaal 30 seconden om API-blokkades te voorkomen." }
        }
      ],
      "capabilities": [
        "measure_temperature",
        "target_temperature",
        "thermostat_mode",
        "button.refresh"
      ],
      "images": {
        "large": "/drivers/thermostat/assets/images/large.png",
        "small": "/drivers/thermostat/assets/images/small.png"
      },
      "capabilitiesOptions": {
        "button.refresh": {
          "title": { "en": "Refresh", "nl": "Vernieuwen" }
        },
        "target_temperature": {
          "min": 5,
          "max": 35,
          "step": 0.5,
          "title": { "en": "Target Temperature", "nl": "Doeltemperatuur" }
        },
        "thermostat_mode": {
          "values": [
            { "id": "off", "title": { "en": "Off", "nl": "Uit" } },
            { "id": "heat", "title": { "en": "Manual", "nl": "Handmatig" } },
            { "id": "auto", "title": { "en": "Automatic", "nl": "Automatisch" } }
          ]
        }
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices" 
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ]
    }
  ],
  "flow": {
    "actions": [
      {
        "id": "refresh_device",
        "title": {
          "en": "Refresh device",
          "nl": "Vernieuw apparaat"
        }
      },
      {
        "id": "set_mode",
        "title": {
          "en": "Set thermostat mode",
          "nl": "Zet thermostaatmodus"
        },
        "titleFormatted": {
          "en": "Set mode to [[mode]]",
          "nl": "Stel modus in op [[mode]]"
        },
        "args": [
          {
            "name": "mode",
            "type": "dropdown",
            "title": {
              "en": "Mode",
              "nl": "Modus"
            },
            "values": [
              { "id": "auto", "title": { "en": "Auto", "nl": "Auto" } },
              { "id": "manual", "title": { "en": "Manual", "nl": "Handmatig" } },
              { "id": "off", "title": { "en": "Off", "nl": "Uit" } }
            ]
          }
        ]
      },
      {
        "id": "set_temperature",
        "title": {
          "en": "Set target temperature",
          "nl": "Stel doeltemperatuur in"
        },
        "titleFormatted": {
          "en": "Set temperature to [[temperature]]",
          "nl": "Stel temperatuur in op [[temperature]]"
        },
        "args": [
          {
            "name": "temperature",
            "type": "number",
            "title": {
              "en": "Temperature",
              "nl": "Temperatuur"
            }
          }
        ]
      }
    ]
  },
  "author": {
    "name": "Erwin Vervondel"
  }
}